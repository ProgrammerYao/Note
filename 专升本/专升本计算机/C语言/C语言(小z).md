
# 进制转换

进制：二进制、八进制、十进制、十六进制

* 八进制数范围：0~7
* 十六进制数范围：0~9、A~F

进制脚标：二级制—B 或 $(\ )_2$，八进制—Q 或 $(\ )_8$，十进制—D 或 $(\ )_{10}$，十六进制—H 或 $(\ )_{16}$

* 十进制数脚标可省略

==进制转换==

非十转换为十：按权展开，个位为0次方，负数后第一位为-1次方

十转非十：整数部分—短除法(转几除几，除至商为0，倒取余数)；小数部分—转几乘几，正取整数(顺序摆放)，直至小数部分为0

二进制、八进制、十六进制互相转换：

* 3位二进制转1位八进制，整数部分不足前补0，小数部分不足后补0
* 4位二进制转1位十六进制，整数部分不足前补0，小数部分不足后补0
* 反之1位八进制转3位二进制；1位十六进制转4位二进制

实例：$(52.2)_8=(\ )_{10}$ (八转十)

* 解析：$整数：5×8^1+2×8^0=42;小数=2×8^{-1}=25;结果=42.25$

实例：$(5.625)_{10} = ()_2$(十转非十)

* 解析：
	* 整数：
		* $5 ÷ 2 = 2$ 余 1
		- $2 ÷ 2 = 1$ 余 0
		- $1 ÷ 2 = 0$ 余 1
		- 倒取余数为101
	- 小数：
		- $0.625 × 2 = 1.25$，取整数部分 1
		- $0.25 × 2 = 0.5$，取整数部分 0
		- $0.5 × 2 = 1.0$，取整数部分 1
		- 顺序摆放为101
	- 结果：101.101

==字符在计算机内部的表示==

ASCIl码：美国信息交换标准码采用7位二进制进行编码，0000000B~1111111B

* 常用ASCII码：$'A'-65$，$'a'-97$，$'0'-48$，空格(space)—32
* 说明：一个汉字占用两个字节

# 程序设计

==程序==

程序=数据结构+算法

由高级语言编写的程序称为源程序

由C语言编写的程序称为".c"(源程序)，经过编译后产生".obj"(目标程序)，经过链接后产生".exe"(可执行程序)

==结构化程序设计==

结构化程序通常由三种基本结构组成：顺序结构、选择结构、循环结构

结构化程序设计方法的主要原则：模块化、自顶向下、逐步求精

# C程序框架和特点

```C
# include <stdio.h>
int main(){

}
```

* `# include <stdio.h>`：为预处理命令，用于引用头文件，<>表示包含系统文件，可以""表示包含项目文件
* 一个C程序由**函数**组成，**函数**是组成C程序的**基本单位**，**语句**是组成C程序的**最小单位**
* 函数包含两个部分：**函数头**和**函数体**
* 每条语句最后以**分号(;)**结束
* 每个C程序**有且只有一个main函数**
* 所以符号都是以英文输入法输入

# 标识符

标识符由字母(a~z,A~Z)、数字(0~9)、下划线组成，并且首字母不能是数字。字母区分大小写

标识符分类：关键字(保留字)、预定义标识符、用户标识符

关键字：32个![[Pasted image 20241016212301.png]]

预定义标识符：C语言中系统预先定义的标识符，如函数库中的函数名、宏定义和类型别名。如：typedef、define、scanf、printf、include

用户标识符：用户根据需要自己定义的标识符。一般用来给变量、函数、数组等命名

注意：关键字不能作为用户标识符，但预定义标识符可以作为用户标识符

# 常量和变量

常量：程序运行过程中值始终不变的量

* 整型常量：
* 实型常量：十进制小数和十进制指数
* 字符常量：普通字符和转义字符
* 字符串常量：由""括起的内容
* 符号常量：`#define 符号常量 值`

变量：其值可以发生改变的量

定义：`类型 变量名;`

赋值：`变量名 = 常量;`

初始化：`类型 变量名 = 常量;`

注意：所有变量在使用前必须先定义。连续赋值时每个=左边是变量，且出现的变量必须先定义，其中每个赋值都有效

# 整型

==整型常量==

C语言中三种基本数据类型：整型、实型、字符型

整型常量(没有二进制)

* 八进制用前导0，十六进制用0x或0X表示

实例：在printf中使用%d输出八进制和十六进制数`pirntf("%d,%d",015,0x15)`

* 解析：先将八进制和十六进制数转为十进制数：015→13，0x15→21，结果输出`13,21`

==整型变量==

| 关键字              | 类型   | 占用字节                                        |
| ---------------- | ---- | ------------------------------------------- |
| int              | 基本型  | TurboC占2个字节(16位编译器)<br>VC++系统下占4个字节(32为编译器) |
| short(short int) | 短整型  | 占2个字节                                       |
| long(long int)   | 长整型  | 占4个字节                                       |
| unsigned         | 无符号型 |                                             |

* 对应无符号型用“%u”格式输出，表示用无符号十进制数的格式输出

# 实型

==实型常量==

小数点式：由数字，正负号，小数点组成

* 注意：必须有小数点，至少一边是数字。例：-.17

指数形式：由e或E组成

* 注意：e前e后必有数，e后必需为整数

==实型变量==

| 关键字    | 类型  | 占用字节 |
| ------ | --- | ---- |
| float  | 单精度 | 4个字节 |
| double | 双精度 | 8个字节 |

类型转换：当一个表达式中出现多种类型的变量时，会自动换：char→int→long→float→double，即**最终结果的类型是所有变量中存储范围最大的类型**

# 字符型

==字符常量==

字符常量：由单引号(' ')括起，单引号中有且只有一个字符

转义字符常量：

| 转义字符    | 含义                 |
| ------- | ------------------ |
| '\\n'   | 回车换行               |
| '\\t'   | 横向跳格，该制表符会占用4个空格位置 |
| '\\b'   | 退格                 |
| '\\\\'  | 反斜杠                |
| '\\''   | 单引号                |
| '\\"'   | 双引号                |
| '\ddd'  | 1至3位八进制表示的1个字符     |
| '\\xhh' | 1至2位十六进制表示的1个字符    |

字符串常量：由双引号(" ")括起，双引号中可以没有内容，每个字符串结尾都有隐藏的'\\0'表示字符串的结束，占1个字节

* 字符串中每个字符可以看做单个转义字符

实例：`printf("\"AB\0C\"\n")`

* 结果输出`"AB`

# 赋值表达式

==赋值运算符：\===

形式：`变量名=表达式`

* 赋值左边必须为一个变量

==复合赋值运算符：+=、-=、*=、/=、%\===

# 算数表达式

基本的算术运算符：+、-、*、/、%

* /：都是整型结果为整型，有一实型结果为实型
* %：前后都为整数，余数符号与被除数的相同

# 强制类型转换符

形式：(类型名)表达式

* 实型转整型时舍弃小数部分

# 自增自减运算符

格式：++变量、变量++、--变量、变量--

* 先加后用与先用后加

# 逗号运算符

形式：表达式1,表达式2,……,表达式n

* 说明：自左向右顺序求值，将最后表达式n的值作为整个表达式的值

# 赋值语句

赋值语句构成：在赋值表达式后面加 ; 就构成了赋值语句

# 数据输出

原样输出：

| 格式输出符 | 说明             |
| ----- | -------------- |
| %d    | 输出int类型变量的值    |
| %c    | 输出char类型变量的值   |
| %f    | 输出float类型变量的值  |
| %lf   | 输出double类型变量的值 |

指定宽度输出：

|     |     |
| --- | --- |
|     |     |

# 复合语句和空语句

复合语句：由多个语句用{}括起

* 说明：复合语句在语法上视为一个语句

空语句：`;`

# 循环结构

循环三要素：初值、条件、增量

# 函数

==函数的定义==

```C
返回值类型 函数名(形参1, 形参2)
{
	函数体;
}
```

* 形参列表中可以`void`表示空参。当函数体为空时为空函数
* 使用：先定义后调用；如果先调用后定义，需要再先声明。声明形式：抄写函数第一行并在后面加 ; 即可
* 注意：main(主)函数不能调用自己，其它函数都可以调用自己
* 可通过return返回值，但只能返回一个值

函数的调用形式：语句调用、表达式调用、参数调用

递归调用：函数直接或间接调用自己，称为函数的递归调用

* 直接递归：一个函数在其定义内部直接调用自身的情况
* 间接递归：两个或多个函数之间相互调用，形成递归调用的关系

==函数之间的值传递==

函数的实参传递分为值传递和地址传递

值传递：实参单元仍保留并维持原值，没有改变。实参向形参的数据传递是“值传递”，**单项传递**，只能由实参传给形参，而不能由形参传给实参。**实参和形参在内存中占有不同的存储单元**，实参无法得到形参的值

地址传递：函数的参数是数组名或者指针。传递的是数组的首地址或指针的值，而形参接收到的是地址，即指向实参的存储单元，**双向传递**，**形参和实参占用相同的存储单元**，即形参和实参是相同的

# 数组

定义：`数据类型 数组名[常量表达式];`

* 常量表达式：包括整型常量或常量表达式和符号常量，不能包含浮点数和变量
* 定义时需指定元素个数，即数组长度

引用：`数组名[下标]`

* 每次只能引用一个元素，不能引用整个数组

初识化：`数据类型 数组名[常量表达式] = {值1,值2,...};`

==二维数组==

初始化1：`数据类型 数组名[一维长度][二维长度] = {{arr1},{arr2},...};`

初始化2：`数据类型 数组名[一维长度][二维长度] = {值1,值2,值3,值4...};`

注意：二维数组的定义可以省略行下标，但不能省略列下标

# 指针

定义：`数据类型 *指针变量名;`

两个重要符号：&和\*

* &取地址运算符：&a 是变量a的地址
* \*指针运算符：\*p代表指针变量p指向的对象

指针变量赋值：`指针变量名 = &变量名;`

通过指针赋予/更改数据：`*指针变量名 = 值;`

# 指针与一维数组

`int a[10]'`

*  说明：a是一维数组名，即一维数组的地址，第0个元素a[0]的地址
* 指针可以单独加减，且两个指针可以相减，但不能相加

数组引用：`a[i]`（下标法）或 `*(a+i)`（指针法）

常用表达式：

* a ===== &a[0]
* a+i === &a[i]
* \*(a+1)== a[i]

注意：a++是合法的

当两个指针指向同一个数组中的元素时，可以直接比较大小

* 例：`int a[10], *p = a, *q = a+1;`，则q>p

# 指针与二维数组

![[Pasted image 20241018055306.png]]

* 可能错误

二维数组引用：

* a[i][j]
* \*(\*(a+i)+j)
* \*(a[i]+j)
* (\*(a+i))[j]

# 字符串

==字符数组与字符串==

字符串与字符数组区别：

* 定义的字符串中会隐藏一个结束标记符'\\0'占用一个长度(元素)，所以内容长度=字符数组长度-1，如果长度超出，则会覆盖结束标记符，从而打印错误
* 定义的字符数组没有'\\0'的结尾标记符，故数组长度等于实际内容长度

只定义时需要有长度，初始化时长度可选择不填，内容小于长度时用空字符'\\0'填补位置

计算数组所拥有的元素数量时只有字符串需要+1

数组可以在定义时对各元素赋初值，但不能用赋值语句对字符数组中全部元素整体赋
值

字符串数组考点：
```C
char s[][5] = {"ABC", "DEF"}, *p = &s[0][0];
printf("%s", p+5);

输出结果？ // DEF
```

==字符串函数==

puts()、gets()、strlen()、strcpy()、strcat()、strcmp()

# 变量

变量作用域、变量存储类

auto、register、static、extern

# 编译预处理

C语言提供的预处理功能主要有三种:宏定义，文件包含和条件编译

==宏定义==

形式1：`#define 宏名 替换文本`

形式2：`#define 宏名(参数) 替换文本`

说明：宏名习惯用大写字母，但是也可以用小写。宏定义不是C语句，行末不必加分号

形式2实例：
```C
#define f(x) x*x

int a = 6, b = 2;

f(a) + f(b) = 40; //6*6+2*2
f(a+b) = 20; //6+2*6+2
f(a)/f(b) = 36; //6*6/2*2
```

* 方法：先宏替换后计算

==文件包含==

含义：就是指一个源文件可以将另一个源文件的全部内容包含进来，
即将另外的文件包含到本文件中

形式1：`#include<文件名>`

形式2：`#include"文件名"`

* 区别：形式1范围包括系统目录；形式2包括用户目录和系统目录

==条件编译==

形式一：判断标识符是否已定义
```C
#ifdef 标识符
	执行语句1;
#else
	执行语句2;
#endif
```

形式二：判断标识符是否没有定义
```C
#ifndef 标识符
	执行语句1;
#else
	执行语句2;
#endif
```

形式三：类型if语句
```C
#if 表达式
	执行语句1;
#else
	执行语句2;
#endif
```

使用位置：函数之中

# 自定义类型

typedef

==struct==

声明结构体类型：
```C
struct 结构体名
{
	成员表列;
};
```

* 每个成员称为结构体成员，结构体成员声明格式`类型名 成员名`（与变量定义相同）
* 结构体名又称类型名，与struct共称为结构体类型名

定义结构体变量：`struct 结构体名 结构体变量名;`

声明并定义：
```C
struct 结构体名
{
	成员表列;
} 结构体变量1, ...;
```

只定义结构体变量：
```C
struct
{
	成员表列;
} 结构体变量1, ...;
```

配合typedef：
```C
struct 结构体名
{
	成员表列;
} 别名;
```

在C语言中，数组是表示类型相同的数据，结构体则是若干**类型不相同**数据项的集合

结构体变量初始化：
```C
struct data
{
	int a;
	float b;
} s = {1,1.22};
```

结构体数组初始化：
```C
struct data
{
	int a;
	float b;
} C[3] = {1,2,3,4,5,6};
```

* 说明：C[3]看做是三个结构体变量构成的结构体数组，分别有C[0]、C[1]、C[2]三个变量，其中变量的成员值分别为C[0]:1和2、C[1]:3和4、C[2]:5和6

结构体变量所占用空间字节数=**所有成员所占字节数之和**

结构体指针所占空间字节数与编译器有关

结构体成员的引用：

形式一：`结构体变量名.成员名`

形式二：`结构体指针名->成员名`

形式三：`(*结构体指针名).成员名`

* 说明：(.)为成员运算符；(->)为指向运算符

注意：形式三的括号不能丢弃

# 位运算

位运算：对二进制进行计算的一种运算

| 运算符 | 含义   |                          |
| --- | ---- | ------------------------ |
| &   | 按位与  | 有0为0，全1为1                |
| \|  | 按位或  | 有1为1，全0为0                |
| ^   | 按位异或 | 相同为0，不同为1                |
| ~   | 取反   | 0取反为1，1取反为0              |
| <<  | 左移   | 将二进制数按指定位数左移，并右补0，最左两位舍弃 |
| >>  | 右移   | 将二进制数按指定位数左移，并左补0，最右两位舍弃 |

* 优先级：~、<<、>>、&、^、|
* 十进制数取反规则：~a=-(a+1)
* 十进制中：左移一位相当于×2，右移一位相当于÷2

复合位运算：&=、|=、^=、<<=、>>=

位运算特点：

| 运算符 | 0   | 1   |
| --- | --- | --- |
| &   | 清零  | 不变  |
| \|  | 不变  | 置1  |
| ^   | 不变  | 求反  |

实例：
```
能将1字节变量x的高4为全置成1，低4位字节保持不变的表达式是  x|11110000

能将1字节变量x的高4为保持不变，低4位清0的表达式是  x&11110000
```

==原反补==

计算机内部以**补码**形式进行存储

在对其它进制数进行位运算前需先转换为二进制数的补码进行运算

# 文件


| 返回值   | 函数                            | 功能           | 说明                                              | 返回值               |
| ----- | ----------------------------- | ------------ | ----------------------------------------------- | ----------------- |
| FILE* | fopen("文件路径","使用方式")          | 打开文件并赋予文件权限  | 返回一个该文件的指针，如果r、a模式下文件不存在则报错返回NULL空指针            |                   |
| int   | fclose(FILE*)                 | 关闭文件         | 使文件指针不在指向文件；执行成功返回0，失败返回EOF(-1)                 |                   |
| int   | fgetc(FILE\*)                 | 读取字符         | 一次读取一个字符，读取成功返回读取字符，读取失败返回EOF(-1)               |                   |
| int   | fputc(字符,FILE*)               | 写入字符         | 一次写入一个字符，输出成功返回输出字符，输出失败返回EOF(-1)               |                   |
| char* | fgets(字符数组,n,FILE\*)          | 读取字符串        | 从fp所指的文件中读取(n-1)个字符放入字符输入数组中，并在最后一个字符后面加一个'\\0' | 成功返回数组指针，失败返回NULL |
| int   | fputs(字符数组,FILE*)             | 写入字符串        | 把字符串写到文件指针变量 fp 所指向的文件中                         | 成功返回0，否则返回非0      |
|       | fprintf(文件指针,格式字符串,输出列表)      | printf方法写入数据 | 后两个参数同printf参数一样，将原printf打印的内容写入文件              |                   |
|       | fscanf(文件指针,格式字符串,输入表列)       | scanf方法读取数据  | 后两个参数同scanf参数一样，将文件数据录入变量中                      |                   |
| int   | fread(数组,每次读取字节数,读取次数,FILE*)  | 二级制格式读取字节数组  | 从所指的文件中，每次读字节数个的数据放入数组中，连续读5次                   | 读取成功返回读取次数，失败返回0  |
| int   | fwrite(数组,每次写入字节数,写入次数,FILE*) | 二级制格式写入多个内容  | 从数组的首地址开始，每次将字节数个的数据写入到所指的文件中，连续写5次             | 成功返回写入次数，失败返回0    |

* 后四种是以格式化方式读写文件，使用文件方式要加b
* 前四种
* EOF含义是指文件结束标志


| 使用文件方式 | 说明          |     |
| ------ | ----------- | --- |
| "r"    | 只读模式        |     |
| "w"    | 覆盖写入模式      |     |
| "a"    | 追加写入模式      |     |
| "rb"   | 只读模式(二进制)   |     |
| "wb"   | 覆盖写入模式(二进制) |     |
| "ab"   | 追加写入模式(二进制) |     |

文件定位函数：

| 函数                  | 功能       | 说明           |
| ------------------- | -------- | ------------ |
| rewind(文件指针)        | 标记指向文件首部 |              |
| fseek(文件指针,位移量,起始点) | 改变标记位置   | 位移量是相对于起始点而的 |

起始点表示：

| 起始点  | 表示符号     | 表示数字 |
| ---- | -------- | ---- |
| 文件首  | SEEK_SET | 0    |
| 当前位置 | SEEK_CUR | 1    |
| 文件末尾 | SEEK_END | 2    |



文件检查结束函数：

| 函数         | 功能              | 说明          |
| ---------- | --------------- | ----------- |
| feof(文件指针) | 检测当前标记位置是否为文件结尾 | 是则返回1，不是返回0 |


C语言中文件可以用**顺序方式**存取，也可用**随机方式**存取

数据可以用**二进制**和**ASCII**两种代码形式存放

文件的存取方式是以**字节**为单位，这种文件被称为**流式文件**